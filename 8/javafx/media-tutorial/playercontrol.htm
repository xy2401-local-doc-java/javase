<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>3 Controlling Media Playback (Release 8)</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width">

<link rel="stylesheet" href="../../assets/css/main.css">
<link rel="stylesheet" href="../../assets/css/main-media-480-tablet.css">
<link rel="stylesheet" href="../../assets/css/main-media-768-laptop.css">
<link rel="stylesheet" href="../../assets/css/main-media-1140-deskp.css">

<link rel="stylesheet" href="../../assets/css/simpletree.css">
<link rel="stylesheet" href="../../assets/css/forms.css">
<link rel="stylesheet" href="../../assets/css/panel.css">
<link rel="stylesheet" href="../../assets/css/altanav.css">
<link rel="stylesheet" href="../../assets/css/docstyles.css">

<link rel="stylesheet" href="../../assets/css/print.css">
<link rel="stylesheet" href="../../assets/css/home.css">
<link rel="stylesheet" href="../../assets/css/normalize.min.css">    

        
<!--[if lt IE 9]>
<link rel="stylesheet" href="../../assets/css/ltIE9.css">
<![endif]-->         
        
<script src="../../assets/js/jquery-1.6.2.js"></script>
<script src="../../assets/js/modernizr-2.6.1-respond-1.1.0.min.js"></script>

<!--toggle search-->
<script src="../../assets/js/toggle.search.js"  type="text/javascript"></script>
<!--navigation main-->
<script src="../../assets/js/altanav.js"  type="text/javascript"></script> 
<!--custom tag element-->
<script src="../../assets/js/customhtmltags.js"  type="text/javascript"></script> 

<!--project specific head data-->
  
<!-- Function for printing -->  
<script>
function PrintPage()
  {window.print();}
</script>

<script>
  $(window).unload(function() {
  });
</script>


<!-- keep select menu's sticking when hit back button-->
<script>
$(window).load(function () {
    $("select").each(function () {
        $(this).val($(this).find('option[selected]').val());
    });
});
</script>

<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body>
<!--[if lt IE 7]>
<div style="border-bottom: 1px solid #A3A481; background-color: #FFFFDC; padding: 10px; font: normal 13px/16px Arial, sans-serif;">
<strong>You are running an older version of Internet Explorer or running Internet Explorer in compatibility mode.</strong>  For a richer experience, please upgrade to the latest <a target="_blank" href="http://windows.microsoft.com/en-US/internet-explorer/downloads/ie" target="_blank">Internet Explorer</a> version, or use <a target="_blank" href="http://www.google.com/chrome/" target="_blank">Chrome</a>, <a target="_blank" href="http://www.mozilla.com/en-US/firefox/" target="_blank">Firefox</a>, or <a target="_blank" href="http://www.apple.com/safari/" target="_blank">Safari</a>.
</div>
<![endif]--> 

<div id="altlogo">Oracle | Hardware and Software, Engineered to Work Together</div>

<span id="top"></span>


<div class="header-container">
<header class="bookwrapper  clearfix">

<div id="brandProdName" >
<div id="logocover"></div>
<div id="productName" >Documentation</div>
</div> 

<div id="signInArea"></div>
<script type="text/javascript">
$(document).ready(function() {
$("#signInArea").load("../../version.html");
});
</script>

<div id="searchheader">
<a href="/javase/search.html" class="button">Search Java SE Documentation</a></div>

<!-- Main Navigation -->
 <br class="clearfloat" />
 <div id="navBar" class="io" >

<!--
<ul>
<li><a class="menu1" title="Home" href="pg-home.php"><span>Home</span></a></li>
<li><a class="menu2" title="What's New"><span>What's New</span><span class="dropdown-arrow"></span></a></li>
<li><a class="menu3" title="All Books" href="pg-allbooks-infotype.php"><span>All Books</span></a></li>
</ul>
-->
</div>
            <br class="clearfloat" />
<!--         
<div id="navcontainer" >
<div class="submenu2 shadow" ><h3>See What's New in <strong>SE</strong> Documentation</h3>
</div>

</div> -->
            <br class="clearfloat" />
<!-- End Main Navigation -->


  </header>
</div><!-- header -->

<div class="main-container" >
<div class="main bookwrapper bookindent clearfix" >

<div id="breadcrumb">
  <a href="../../index.html">Java Platform, Standard Edition (Java SE) 8</a>
</div>
<div class="bookoptions"><a href="mailto:javasedocs_us@oracle.com" title="Send Feedback">Send Feedback</a> | <a href="#" onclick="PrintPage();">Print</a>
 | <a href="../JFXMD.pdf">PDF</a> | <a href="../JFXMD.epub">ePub</a> | <a href="../JFXMD.mobi">Mobi</a>
</div>

<div class="booktitle">JavaFX: Incorporating Media Assets Into JavaFX Applications</div>

<div class="contentarea clearboth">

<script type="text/javascript">

$(document).ready(function(){

//////////////////////
$(".trig1").click(function(){
        $("#panel1").toggle("fast"); <!--/*makes panel visible*/-->
        $(this).toggleClass("active"); <!--makes trigger expand out-->
        return false;
    });

///////////////////////

$("#X").click(function(){
      // trigger click is needed for css .active to work
	  $( ".trig1" ).trigger( "click" );
   return false;
    });

/*/////////////////////

$("#panel1").mouseleave(function(){
  $( ".trig1" ).trigger( "click" );
   return false;
});

/////////////////////*/
});

</script>


<!-- page navigation -->

<!--div id="tocbutton" ><span class="button"><a href="#mypanel"><img src="../../assets/img-common/3linemenu.png" alt="menu icon" />Menu</a></span></div-->

<div id="pagenav"><a class="button" title="Previous Page" href="simpleplayer.htm">Previous Page</a></div>

<article>

<!-- End Header --><a id="CMHEJIBA" name="CMHEJIBA" class="anchor"></a><a id="JFXMD130" name="JFXMD130" class="anchor"></a>
<h1 class="chapter"><span class="secnum">3</span> Controlling Media Playback</h1>
<p>In this section you create a full-functional media player with graphical UI elements that control the playback.</p>
<p>To create a media player you need to implement the structure of the three nested media objects, encode graphical controls, and add some logic for playback functions, as illustrated in the <a href="#BABJHHCI">Figure 3-1</a> below.</p>
<div class="figure"><a id="BABJHHCI" name="BABJHHCI" class="anchor"></a><a id="JFXMD132" name="JFXMD132" class="anchor"></a>
<p class="titleinfigure">Figure 3-1 Structure of Media Player with Playback Controls</p>
<img width="360" height="226" src="img/control-structure.jpg" alt="Logical structure of a media player with UI controls." title="Logical structure of a media player with UI controls." longdesc="img_text/control-structure.htm" /><br />
<a id="sthref17" name="sthref17" href="img_text/control-structure.htm">Description of "Figure 3-1 Structure of Media Player with Playback Controls"</a><br />
<br /></div>
<!-- class="figure" -->
<p>You step through adding playback controls to the media player that you created in <a href="simpleplayer.htm#CCHEJIBE">Chapter 2, "Embedding Media Into a Web Page"</a>. If you haven't already done so, complete that media player application before proceeding with the rest of this chapter. The media control panel you add consists of three elements: playButton, progress, and volumeControl.</p>
<a id="JFXMD133" name="JFXMD133" class="anchor"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref18" name="sthref18" class="anchor"></a>
<h2 class="sect1">Creating Controls</h2>
<p>In this section you create a new JavaFX source file, <code>MediaControl.java</code>, that will contain the pane and UI controls for the play/pause, progress, and volume features.</p>
<ol>
<li>
<p>With the EmbeddedMediaPlayer opened as the main project in the NetBeans IDE, create a new JavaFX file to add to the project.</p>
<ol>
<li>
<p>Use Ctrl+N or select File &gt; New File from the IDE's main menu.</p>
</li>
<li>
<p>Select Category JavaFX and file type JavaFX Main class. Click Next.</p>
</li>
<li>
<p>In the Name and Location dialog, type <code>MediaControl</code> in the Class Name field.</p>
</li>
<li>
<p>In the Package field, select embeddedmediaplayer from the drop-down list and click Finish.</p>
</li>
</ol>
</li>
<li>
<p>In the <code>MediaControl.java</code> source file, delete all the lines after <code>package embeddedmediaplayer</code> line.</p>
</li>
<li>
<p>Add the import statements that are shown in <a href="#BABDBAGC">Example 3-1</a> to the top of the file.</p>
<div class="example"><a id="BABDBAGC" name="BABDBAGC" class="anchor"></a><a id="JFXMD135" name="JFXMD135" class="anchor"></a>
<p class="titleinexample">Example 3-1 Import Statements to Add</p>
<pre xml:space="preserve" class="oac_no_warn">import javafx.scene.control.Label;
import javafx.scene.control.Slider;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Pane;
import javafx.scene.media.MediaPlayer;
import javafx.scene.media.MediaView;
import javafx.util.Duration;
</pre></div>
<!-- class="example" --></li>
<li>
<p>Copy and paste the lines of code in <a href="#BABFAAHG">Example 3-2</a> to create the BorderPane that will hold the controls.</p>
<div class="example"><a id="BABFAAHG" name="BABFAAHG" class="anchor"></a><a id="JFXMD134" name="JFXMD134" class="anchor"></a>
<p class="titleinexample">Example 3-2 Add MediaControl Class Code</p>
<pre xml:space="preserve" class="oac_no_warn">public class MediaControl extends BorderPane {
    private MediaPlayer mp;
    private MediaView mediaView;
    private final boolean repeat = false;
    private boolean stopRequested = false;
    private boolean atEndOfMedia = false;
    private Duration duration;
    private Slider timeSlider;
    private Label playTime;
    private Slider volumeSlider;
    private HBox mediaBar;

    public MediaControl(final MediaPlayer mp) {
        this.mp = mp;
        setStyle("-fx-background-color: #bfc2c7;");
        mediaView = new MediaView(mp);
        Pane mvPane = new Pane() {                };
        mvPane.getChildren().add(mediaView);
        mvPane.setStyle("-fx-background-color: black;"); 
        setCenter(mvPane);
     }
}
</pre></div>
<!-- class="example" --></li>
<li>
<p>Copy the lines of code in <a href="#BABFFHCC">Example 3-3</a> and paste them immediately after the line that says <code>setCenter(mvPane)</code>. This code adds the Media toolbar and the Play button.</p>
<div class="example"><a id="BABFFHCC" name="BABFFHCC" class="anchor"></a><a id="JFXMD136" name="JFXMD136" class="anchor"></a>
<p class="titleinexample">Example 3-3 Add Media Toolbar and Play Button</p>
<pre xml:space="preserve" class="oac_no_warn">mediaBar = new HBox();
        mediaBar.setAlignment(Pos.CENTER);
        mediaBar.setPadding(new Insets(5, 10, 5, 10));
        BorderPane.setAlignment(mediaBar, Pos.CENTER);
 
        final Button playButton  = new Button("&gt;");
        mediaBar.getChildren().add(playButton);
        setBottom(mediaBar); 
     }
}
</pre></div>
<!-- class="example" --></li>
<li>
<p>Add the import statements shown in <a href="#BABJIFFJ">Example 3-4</a> to the top of the list of import statements.</p>
<div class="example"><a id="BABJIFFJ" name="BABJIFFJ" class="anchor"></a><a id="JFXMD137" name="JFXMD137" class="anchor"></a>
<p class="titleinexample">Example 3-4 Add More Import Statements</p>
<pre xml:space="preserve" class="oac_no_warn">import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.control.Button;
</pre></div>
<!-- class="example" --></li>
<li>
<p>Add the remainder of the UI controls to the control pane. Put the lines of code in <a href="#BABJHJJJ">Example 3-5</a> after the <code>mediaBar.getChildren().add(playButton</code>); line and before the <code>setBottom(mediaBar)</code> line.</p>
<div class="example"><a id="BABJHJJJ" name="BABJHJJJ" class="anchor"></a><a id="JFXMD138" name="JFXMD138" class="anchor"></a>
<p class="titleinexample">Example 3-5 Add the Rest of the UI Controls</p>
<pre xml:space="preserve" class="oac_no_warn">// Add spacer
Label spacer = new Label("   ");
mediaBar.getChildren().add(spacer);
 
// Add Time label
Label timeLabel = new Label("Time: ");
mediaBar.getChildren().add(timeLabel);
 
// Add time slider
timeSlider = new Slider();
HBox.setHgrow(timeSlider,Priority.ALWAYS);
timeSlider.setMinWidth(50);
timeSlider.setMaxWidth(Double.MAX_VALUE);
mediaBar.getChildren().add(timeSlider);

// Add Play label
playTime = new Label();
playTime.setPrefWidth(130);
playTime.setMinWidth(50);
mediaBar.getChildren().add(playTime);
 
// Add the volume label
Label volumeLabel = new Label("Vol: ");
mediaBar.getChildren().add(volumeLabel);
 
// Add Volume slider
volumeSlider = new Slider();        
volumeSlider.setPrefWidth(70);
volumeSlider.setMaxWidth(Region.USE_PREF_SIZE);
volumeSlider.setMinWidth(30);
 
mediaBar.getChildren().add(volumeSlider);
</pre></div>
<!-- class="example" --></li>
<li>
<p>Add more import statements shown in <a href="#CIHCCDAJ">Example 3-6</a> to the top of the file.</p>
<div class="example"><a id="CIHCCDAJ" name="CIHCCDAJ" class="anchor"></a><a id="JFXMD139" name="JFXMD139" class="anchor"></a>
<p class="titleinexample">Example 3-6 Add More Import Statements</p>
<pre xml:space="preserve" class="oac_no_warn">import javafx.scene.layout.Priority;
import javafx.scene.layout.Region;
</pre></div>
<!-- class="example" --></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="JFXMD140" name="JFXMD140" class="anchor"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref19" name="sthref19" class="anchor"></a>
<h2 class="sect1">Add the Functional Logic Code</h2>
<p>After all the controls have been created and added to the control panel, add the functional logic to manage the media playback and make your application interactive.</p>
<ol>
<li>
<p>Add the event handler and listener for the Play button. Copy and paste the lines of code in <a href="#BABHHBEB">Example 3-7</a> after the <code>final Button playButton = new Button("&gt;")</code> line and before the <code>mediaBar.getChildren().add(playButton)</code> line.</p>
<div class="example"><a id="BABHHBEB" name="BABHHBEB" class="anchor"></a><a id="JFXMD141" name="JFXMD141" class="anchor"></a>
<p class="titleinexample">Example 3-7 Add Play Button's Event Handler and Listener</p>
<pre xml:space="preserve" class="oac_no_warn">playButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {
    public void handle(ActionEvent e) {
        Status status = mp.getStatus();
 
        if (status == Status.UNKNOWN  || status == Status.HALTED)
        {
           // don't do anything in these states
           return;
<span class="bold">        }</span>
 
          if ( status == Status.PAUSED
             || status == Status.READY
             || status == Status.STOPPED)
          {
             // rewind the movie if we're sitting at the end
             if (atEndOfMedia) {
                mp.seek(mp.getStartTime());
                atEndOfMedia = false;
             }
             mp.play();
             } else {
               mp.pause();
             }
         }
   });
</pre></div>
<!-- class="example" --></li>
<li>
<p>The import statements used by the code you just added from <a href="#BABHHBEB">Example 3-7</a> could have been added beforehand to avoid getting errors. But this time, to eliminate all of marked errors, press Ctrl+Shift+I or right-click anywhere and select Fix Imports. From the Fix All Imports dialog, select <code>javafx.scene.media.MediaPlayer.Status,</code> <code>javafx.event.ActionEvent</code>, and <code>javafx.event.EventHandler</code> from the drop-down menus. Click OK.</p>
</li>
<li>
<p>Add the following lines of code immediately after the lines of code you added from <a href="#BABHHBEB">Example 3-7</a> and before the line that says <code>mediaBar.getChildren().add(playButton)</code>. This code will handle the listener.</p>
<div class="example"><a id="JFXMD142" name="JFXMD142" class="anchor"></a><a id="sthref20" name="sthref20" class="anchor"></a>
<p class="titleinexample">Example 3-8 Add Listener Code</p>
<pre xml:space="preserve" class="oac_no_warn">mp.currentTimeProperty().addListener(new InvalidationListener() 
        {
            public void invalidated(Observable ov) {
                updateValues();
            }
        });
 
        mp.setOnPlaying(new Runnable() {
            public void run() {
                if (stopRequested) {
                    mp.pause();
                    stopRequested = false;
                } else {
                    playButton.setText("||");
                }
            }
        });
 
        mp.setOnPaused(new Runnable() {
            public void run() {
                System.out.println("onPaused");
                playButton.setText("&gt;");
            }
        });
 
        mp.setOnReady(new Runnable() {
            public void run() {
                duration = mp.getMedia().getDuration();
                updateValues();
            }
        });
 
        mp.setCycleCount(repeat ? MediaPlayer.INDEFINITE : 1);
        mp.setOnEndOfMedia(new Runnable() {
            public void run() {
                if (!repeat) {
                    playButton.setText("&gt;");
                    stopRequested = true;
                    atEndOfMedia = true;
                }
            }
       });
</pre></div>
<!-- class="example" -->
<p>Note that the errors that appear will be fixed by adding more code in the next steps.</p>
</li>
<li>
<p>Add listener for the time slider by adding the following code snippet after the line that says <code>timeSlider.setMaxWidth(Double.MAX_VALUE)</code> and before the line that says <code>mediaBar.getChildren().add(timeSlider)</code>.</p>
<div class="example"><a id="JFXMD143" name="JFXMD143" class="anchor"></a><a id="sthref21" name="sthref21" class="anchor"></a>
<p class="titleinexample">Example 3-9 Add Listener for Time Slider</p>
<pre xml:space="preserve" class="oac_no_warn">timeSlider.valueProperty().addListener(new InvalidationListener() {
    public void invalidated(Observable ov) {
       if (timeSlider.isValueChanging()) {
       // multiply duration by percentage calculated by slider position
          mp.seek(duration.multiply(timeSlider.getValue() / 100.0));
       }
    }
});
</pre></div>
<!-- class="example" --></li>
<li>
<p>Add listener for the volume slider control by adding the following code snippet after the line that says <code>volumeSlider.setMinWidth(30)</code> and before the <code>mediabar.getChildren().add(volumeSlider)</code>.</p>
<div class="example"><a id="JFXMD144" name="JFXMD144" class="anchor"></a><a id="sthref22" name="sthref22" class="anchor"></a>
<p class="titleinexample">Example 3-10 Add Listener for the Volume Control</p>
<pre xml:space="preserve" class="oac_no_warn">volumeSlider.valueProperty().addListener(new InvalidationListener() {
    public void invalidated(Observable ov) {
       if (volumeSlider.isValueChanging()) {
           mp.setVolume(volumeSlider.getValue() / 100.0);
       }
    }
});
</pre></div>
<!-- class="example" --></li>
<li>
<p>Create Method updateValues used by the playback controls. Add it after the <code>public MediaControl()</code> method.</p>
<div class="example"><a id="JFXMD145" name="JFXMD145" class="anchor"></a><a id="sthref23" name="sthref23" class="anchor"></a>
<p class="titleinexample">Example 3-11 Add UpdateValues Method</p>
<pre xml:space="preserve" class="oac_no_warn">protected void updateValues() {
  if (playTime != null &amp;&amp; timeSlider != null &amp;&amp; volumeSlider != null) {
     Platform.runLater(new Runnable() {
        public void run() {
          Duration currentTime = mp.getCurrentTime();
          playTime.setText(formatTime(currentTime, duration));
          timeSlider.setDisable(duration.isUnknown());
          if (!timeSlider.isDisabled() 
            &amp;&amp; duration.greaterThan(Duration.ZERO) 
            &amp;&amp; !timeSlider.isValueChanging()) {
              timeSlider.setValue(currentTime.divide(duration).toMillis()
                  * 100.0);
          }
          if (!volumeSlider.isValueChanging()) {
            volumeSlider.setValue((int)Math.round(mp.getVolume() 
                  * 100));
          }
        }
     });
  }
}
</pre></div>
<!-- class="example" --></li>
<li>
<p>Add the <code>private method formatTime()</code> after the updateValues() method. The formatTime() method calculates the elapsed time the media has been playing and formats it to be displayed on the control toolbar.</p>
<div class="example"><a id="JFXMD146" name="JFXMD146" class="anchor"></a><a id="sthref24" name="sthref24" class="anchor"></a>
<p class="titleinexample">Example 3-12 Add Method for Calculating Elapsed Time</p>
<pre xml:space="preserve" class="oac_no_warn">private static String formatTime(Duration elapsed, Duration duration) {
   int intElapsed = (int)Math.floor(elapsed.toSeconds());
   int elapsedHours = intElapsed / (60 * 60);
   if (elapsedHours &gt; 0) {
       intElapsed -= elapsedHours * 60 * 60;
   }
   int elapsedMinutes = intElapsed / 60;
   int elapsedSeconds = intElapsed - elapsedHours * 60 * 60 
                           - elapsedMinutes * 60;
 
   if (duration.greaterThan(Duration.ZERO)) {
      int intDuration = (int)Math.floor(duration.toSeconds());
      int durationHours = intDuration / (60 * 60);
      if (durationHours &gt; 0) {
         intDuration -= durationHours * 60 * 60;
      }
      int durationMinutes = intDuration / 60;
      int durationSeconds = intDuration - durationHours * 60 * 60 - 
          durationMinutes * 60;
      if (durationHours &gt; 0) {
         return String.format("%d:%02d:%02d/%d:%02d:%02d", 
            elapsedHours, elapsedMinutes, elapsedSeconds,
            durationHours, durationMinutes, durationSeconds);
      } else {
          return String.format("%02d:%02d/%02d:%02d",
            elapsedMinutes, elapsedSeconds,durationMinutes, 
                durationSeconds);
      }
      } else {
          if (elapsedHours &gt; 0) {
             return String.format("%d:%02d:%02d", elapsedHours, 
                    elapsedMinutes, elapsedSeconds);
            } else {
                return String.format("%02d:%02d",elapsedMinutes, 
                    elapsedSeconds);
            }
        }
    }
</pre></div>
<!-- class="example" --></li>
<li>
<p>Lastly, fix the imports. Right-click in any white space and select <code>javafx.application.Platform</code> and <code>javafx.beans.Observable</code> from the Fix All Imports dialog. Click OK.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="JFXMD147" name="JFXMD147" class="anchor"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref25" name="sthref25" class="anchor"></a>
<h2 class="sect1">Modify the EmbeddedMediaPlayer.java</h2>
<p>To add the control, modify the <code>EmbeddedMediaPlayer.java</code> file that you created in the previous chapter and add the code to add the MediaControl object.</p>
<ol>
<li>
<p>Copy the lines of code in <a href="#BABCBACI">Example 3-13</a> and paste them right after the <code>mediaPlayer.setAutoPlay(true)</code> line.</p>
<div class="example"><a id="BABCBACI" name="BABCBACI" class="anchor"></a><a id="JFXMD148" name="JFXMD148" class="anchor"></a>
<p class="titleinexample">Example 3-13 Add the Source Code to Create MediaControl Object</p>
<pre xml:space="preserve" class="oac_no_warn">MediaControl mediaControl = new MediaControl(mediaPlayer);
scene.setRoot(mediaControl);
</pre></div>
<!-- class="example" --></li>
<li>
<p>Delete the three lines shown in <a href="#BABGGHCH">Example 3-14</a>, which previously created the <code>mediaView</code> and <code>mediaPlayer</code> objects.</p>
<div class="example"><a id="BABGGHCH" name="BABGGHCH" class="anchor"></a><a id="JFXMD149" name="JFXMD149" class="anchor"></a>
<p class="titleinexample">Example 3-14 Delete Lines of Code</p>
<pre xml:space="preserve" class="oac_no_warn">// create mediaView and add media player to the viewer
 MediaView mediaView = new MediaView(mediaPlayer);
     ((Group)scene.getRoot()).getChildren().add(mediaView);
</pre></div>
<!-- class="example" --></li>
<li>
<p>Delete the import statement for the MediaView: <code>import javafx.scene.media.MediaView;</code></p>
</li>
<li>
<p>Adjust the size of the scene's height to accommodate the addition of the media controls.</p>
<div class="example"><a id="JFXMD150" name="JFXMD150" class="anchor"></a><a id="sthref26" name="sthref26" class="anchor"></a>
<p class="titleinexample">Example 3-15 Change the Scene's Height</p>
<pre xml:space="preserve" class="oac_no_warn">Scene scene = new Scene(root, 540, 241);
</pre></div>
<!-- class="example" --></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="JFXMD151" name="JFXMD151" class="anchor"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref27" name="sthref27" class="anchor"></a>
<h2 class="sect1">Compile and Run the EmbeddedMedia</h2>
<p>Now build the application you just created in the previous section and run it.</p>
<ol>
<li>
<p>Right-click the EmbeddedMediaPlayer project node and select Clean and Build.</p>
</li>
<li>
<p>If there are no build errors, right-click the node again and select Run. The media player with control appears, similar to <a href="#CIHFIFBH">Figure 3-2</a> and begins to play.</p>
<div class="figure"><a id="CIHFIFBH" name="CIHFIFBH" class="anchor"></a><a id="JFXMD152" name="JFXMD152" class="anchor"></a>
<p class="titleinfigure">Figure 3-2 Media Player with Playback Controls</p>
<img width="556" height="279" src="img/media-with-controls.gif" alt="Description of Figure 3-2 follows" title="Description of Figure 3-2 follows" longdesc="img_text/media-with-controls.htm" /><br />
<a id="sthref28" name="sthref28" href="img_text/media-with-controls.htm">Description of "Figure 3-2 Media Player with Playback Controls"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Stop and resume the video using the play/pause control button. Move forwards or backwards through the video using the progress bar. Adjust the volume using the volume control button.<br />
<br />
Find the complete application code in the <a href="../sample-apps/EmbeddedMediaPlayer.zip">EmbeddedMediaPlayer.zip</a> file.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->

</article>

<div id=rightslider>


<!--/*///////////////////////////////////////////////////////////////////////
PANEL 1 /* table of contents */
///////////////////////////////////////////////////////////////////////*/-->

<div id="panel1" class="panel shadow">
<div class="panellists">
<div style="float:right;"><a href="#" id="X"><img src="../../assets/img-common/X.png"   alt="Close Window" title="Close Table of Contents Window" /></a></div>
	<h3>Table of Contents</h3>
		<script type="text/javascript" src="../../assets/js/tree.menu.js" >

/***********************************************
* Simple Tree Menu - (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
* This notice MUST stay intact for legal use
* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
***********************************************/

/*http://www.dynamicdrive.com/dynamicindex1/navigate1.htm*/
</script>

<h2>JavaFX: Incorporating Media Assets Into JavaFX Applications</h2>

<a href="javascript:ddtreemenu.flatten('treemenu1', 'expand')">Expand</a> | <a href="javascript:ddtreemenu.flatten('treemenu1', 'contact')">Collapse</a>

<ul id="treemenu1" class="treeview">
    <li><a href="title.htm#top">Title and Copyright Information</a></li>
    <li><a href="preface.htm#sthref2">Preface</a>
      <ul>
        <li><a href="preface.htm#sthref3">About This Tutorial</a></li>
        <li><a href="preface.htm#sthref4">Audience</a></li>
        <li><a href="preface.htm#sthref5">Documentation Accessibility</a></li>
        <li><a href="preface.htm#sthref7">Related Documents</a></li>
        <li><a href="preface.htm#sthref8">Conventions</a></li>
      </ul>
    </li>
    <li><a href="overview.htm#JFXMD101">1 Introduction to JavaFX Media</a>
      <ul>
        <li><a href="overview.htm#sthref10">Supported Media Codecs</a></li>
        <li><a href="overview.htm#sthref11">HTTP Live Streaming Support</a></li>
        <li><a href="overview.htm#sthref12">Creating a Media Player</a></li>
      </ul>
    </li>
    <li><a href="simpleplayer.htm#JFXMD117">2 Embedding Media Into a Web Page</a>
      <ul>
        <li><a href="simpleplayer.htm#sthref15">To Get Started</a></li>
        <li><a href="simpleplayer.htm#sthref16">Create the Application</a></li>
      </ul>
    </li>
    <li><a class="selected" href="playercontrol.htm#JFXMD130">3 Controlling Media Playback</a>
      <ul>
        <li><a href="playercontrol.htm#sthref18">Creating Controls</a></li>
        <li><a href="playercontrol.htm#sthref19">Add the Functional Logic Code</a></li>
        <li><a href="playercontrol.htm#sthref25">Modify the EmbeddedMediaPlayer.java</a></li>
        <li><a href="playercontrol.htm#sthref27">Compile and Run the EmbeddedMedia</a></li>
      </ul>
    </li>
</ul>


<script type="text/javascript">

//ddtreemenu.createTree(treeid, enablepersist, opt_persist_in_days (default is 1))

ddtreemenu.createTree("treemenu1", true)
//ddtreemenu.createTree("treemenu2", false)

</script>
</div>
<div style="clear:both;"></div>
</div>


<!--/*///////////////////////////////////////////////////////////////////////
TABS 
///////////////////////////////////////////////////////////////////////*/-->

<a class="trig1 trigger shadow" alt="Table of Contents" title="Contents" href="#"></a>

</div>

<div id="pagenav2"><a class="button" title="Previous Page" href="simpleplayer.htm">Previous Page</a><a href="#top"  class="button" title="Top of Page" target="_self">Top of Page</a></div>

<br class="clearfloat" />
<span class="clearfloat"></span>
</div> <!-- .contentarea -->
</div> <!-- .main -->
</div> <!-- #main-container --><!-- content -->

<div class="main wrapper">

<div class="socialicons">

<a target="_blank" href="https://www.facebook.com/ilovejava" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="Facebook" class="socialIcon facebook" /></a>


<a target="_blank" href="https://www.twitter.com/java" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="Twitter" class="socialIcon twitter" /></a>


<a href="" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="RSS Feeds" class="socialIcon rss" /></a>


<!--
<a target="_blank" href="https://www.facebook.com/ilovejava" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="Facebook" class="socialIcon facebook" /></a> 

<a target="_blank" href="https://www.twitter.com/java" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="Twitter" class="socialIcon twitter" /></a> 

<a target="_blank" href="http://blogs.oracle.com/thejavatutorials/feed/entries/rss" target="_blank"><img src="../../assets/img-common/f_spacer.gif" alt="RSS Feeds" class="socialIcon rss" /></a>
-->
</div>
<div class="SocialBar">


<div id="tw-like">
<!-- from:twitter:https://twitter.com/about/resources/buttons#tweet -->
<a target="_blank" href="https://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>



<div id="go-like">
<!-- https://developers.google.com/+/web/+1button/ -->

<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-size="medium" data-annotation="none"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
</div>




<!--<div id="fb-like">

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/OracleCloudComputing" data-width="450" data-layout="button_count" data-show-faces="false" data-send="true"></div>
</div>-->


</div>
</div>


<div class="footer-containerbook ">
 <footer>
	<span style="display:block;">Copyright &copy; 2011, 2014, Oracle and/or its affiliates. All rights reserved. <a href="../../assets/cpyr.htm">Legal Notices</a></span>
 </footer>
</div>
        
        <br />
        
        <!--<script src="../../assets/js/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="../../assets/js/jquery-1.8.0.min.js"><\/script>')</script>-->

<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
<!-- End SiteCatalyst code -->


</body>
</html>
