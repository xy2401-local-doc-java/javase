<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xml:lang=
"en-US">
<head>
<title>Varargs</title>

<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs8/js/popUp.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs8/js/sniff.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs8/js/menucontent.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs8/js/menucode.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs8/js/developer.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/other/js/search.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../../webdesign/pubs8/css/default_developer.css" />
<meta name="collection" content="reference"/> 
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<noscript>JavaScript is not supported by your browser. JavaScript
support is required for full functionality of this page.</noscript>
<div class="a0 a0v1" id="a0v1"><!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1 a1r2">
<div class="a1v0"><a href="#skip2content" class="skiplink">Skip to
Content</a></div>
</div>
<!-- END A1 COMPONENT V.0 -->
<!-- BEGIN A2 COMPONENT V.1 -->
<div class="a2w0">
<div class="a2" id="a2v1">
<div class="a2w1">
<div class="a2w2">
<div class="a2w3">
<div class="a2w4">
<div class="a2topiclinks"><a href="http://www.oracle.com" title=
"Oracle Home Page" id="sunlogo" name="sunlogo"><img src=
"../../../../../webdesign/pubs8/im/a.gif" alt="Home Page" width="98" height="58"
border="0" /></a>
<ul id="mtopics">
<li id="mtopic1"><a id="glink1" class="tpclink a2menu" title=
"See Oracle Technology Network" href="http://oracle.com/technology"
name="glink1">Oracle Technology Network</a></li>
<li id="mtopic2"><a id="glink2" class="tpclink a2menu" title=
"Software Downloads" href=
"http://www.oracle.com/technology/software/index.html" name=
"glink2">Software Downloads</a></li>
<li id="mtopic3"><a id="glink3" class="tpclink a2menu" title=
"See Java SE Documentation" href=
"http://docs.oracle.com/javase/index.html" name=
"glink3">Documentation</a></li>
</ul>
<div class="a2search"><a href="../../../../../search.html" target=
"_blank">Search</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- END A2 COMPONENT V.1 -->
<!-- BEGIN SEPARATOR -->
<div class="hr">
<hr /></div>
<!-- END SEPARATOR -->
<!-- ============ -->
<!-- MAIN CONTENT -->
<!-- ============ -->
<a name="skip2content" id="skip2content"></a>



<div class="smallpagetitle"><h1>Varargs</h1></div>

<br />
<!-- Body text begins here -->
In past releases, a method that took an arbitrary number of values
required you to create an array and put the values into the array
prior to invoking the method. For example, here is how one used the
<a href=
"../../../api/java/text/MessageFormat.html"><code>MessageFormat</code></a>
class to format a message:
<pre>
Object[] arguments = {
    new Integer(7),
    new Date(),
    "a disturbance in the Force"
};

String result = MessageFormat.format(
    "At {1,time} on {1,date}, there was {2} on planet "
     + "{0,number,integer}.", arguments);
</pre>
<p>It is still true that multiple arguments must be passed in an
array, but the varargs feature automates and hides the process.
Furthermore, it is upward compatible with preexisting APIs. So, for
example, the <code>MessageFormat.format</code> method now has this
declaration:</p>
<pre>
    public static String format(String pattern,
                                <strong>Object...</strong> arguments);
</pre>
<p>The three periods after the final parameter's type indicate that
the final argument may be passed as an array <i>or</i> as a
sequence of arguments. Varargs can be used <i>only</i> in the final
argument position. Given the new varargs declaration for
<code>MessageFormat.format</code>, the above invocation may be
replaced by the following shorter and sweeter invocation:</p>
<pre>
String result = MessageFormat.format(
    "At {1,time} on {1,date}, there was {2} on planet "
    + "{0,number,integer}.",
    7, new Date(), "a disturbance in the Force");
</pre>
<p>There is a strong synergy between <a href=
"autoboxing.html">autoboxing</a> and varargs, which is illustrated
in the following program using reflection:</p>
<pre>
<b>// Simple test framework</b>
public class Test {
    public static void main(String[] args) {
        int passed = 0;
        int failed = 0;
        for (String className : args) {
            try {
                Class c = Class.forName(className);
                <strong>c.getMethod("test").invoke(c.newInstance());</strong>
                passed++;
            } catch (Exception ex) {
                <strong>System.out.printf("%s failed: %s%n", className, ex);</strong>
                failed++;
            }
        }
        System.out.printf("passed=%d; failed=%d%n", passed, failed);
    }
}
</pre>
<p>This little program is a complete, if minimal, test framework.
It takes a list of class names on the command line. For each class
name, it instantiates the class using its parameterless constructor
and invokes a parameterless method called test. If the
instantiation or invocation throws an exception, the test is deemed
to have failed. The program prints each failure, followed by a
summary of the test results. The reflective instantiation and
invocation no longer require explicit array creation, because the
<code>getMethod</code> and <code>invoke</code> methods accept a
variable argument list. The program also uses the new <a href=
"../../../api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-">
<code>printf</code></a> facility, which relies on varargs. The
program reads much more naturally than it would without
varargs.</p>
<p>So when should you use varargs? As a client, you should take
advantage of them whenever the API offers them. Important uses in
core APIs include reflection, message formatting, and the new
<code>printf</code> facility. As an API designer, you should use
them sparingly, only when the benefit is truly compelling.
Generally speaking, you should not overload a varargs method, or it
will be difficult for programmers to figure out which overloading
gets called. <!-- Body text ends here --></p>

<div id="javasefooter">
<div class="hr">
<hr /></div>
<div id="javasecopyright">
<a href="../../../legal/cpyr.html">Copyright &#169;</a> 1993, 2018, Oracle
and/or its affiliates. All rights reserved.
</div>

<div id="javasecontactus">
<a href="http://docs.oracle.com/javase/feedback.html">Contact Us</a>
</div>
</div>
</div>

<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
<!-- End SiteCatalyst code -->

</body>
</html>
