<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xml:lang=
"en-US">
<head>
<title>Java Print Service API User Guide: 4 - Printing and
Streaming Documents</title>

<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/pubs/js/popUp.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/pubs/js/sniff.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/pubs/js/menucontent.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/pubs/js/menucode.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/pubs/js/developer.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../../webdesign/other/js/search.js"></script>
<link rel="stylesheet" href="../../../../../../webdesign/pubs/css/default_developer.css" />
<meta name="collection" content="reference"/> 
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<noscript>JavaScript is not supported by your browser. JavaScript
support is required for full functionality of this page.</noscript>
<div class="a0 a0v1" id="a0v1"><!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1 a1r2">
<div class="a1v0"><a href="#skip2content" class="skiplink">Skip to
Content</a></div>
</div>
<!-- END A1 COMPONENT V.0 -->
<!-- BEGIN A2 COMPONENT V.1 -->
<div class="a2w0">
<div class="a2" id="a2v1">
<div class="a2w1">
<div class="a2w2">
<div class="a2w3">
<div class="a2w4">
<div class="a2topiclinks"><a href="http://www.oracle.com" title=
"Oracle Home Page" id="sunlogo" name="sunlogo"><img src=
"../../../../../../webdesign/pubs/im/a.gif" alt="Home Page" width="98" height="58"
border="0" /></a>
<ul id="mtopics">
<li id="mtopic1"><a id="glink1" class="tpclink a2menu" title=
"See Oracle Technology Network" href="http://oracle.com/technology"
name="glink1">Oracle Technology Network</a></li>
<li id="mtopic2"><a id="glink2" class="tpclink a2menu" title=
"Software Downloads" href=
"http://www.oracle.com/technology/software/index.html" name=
"glink2">Software Downloads</a></li>
<li id="mtopic3"><a id="glink3" class="tpclink a2menu" title=
"See Java SE Documentation" href=
"http://download.oracle.com/javase/index.html" name=
"glink3">Documentation</a></li>
</ul>
<div class="a2search"><a href="../../../../../../search.html" target=
"_blank">Search</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- END A2 COMPONENT V.1 -->
<!-- BEGIN SEPARATOR -->
<div class="hr">
<hr /></div>
<!-- END SEPARATOR -->
<!-- ============ -->
<!-- MAIN CONTENT -->
<!-- ============ -->
<a name="skip2content" id="skip2content"></a>


<a href="JPSTOC.fm.html">CONTENTS</a> | <a href=
"printing.fm3.html">PREV</a> | <a href=
"printing.fm5.html">NEXT</a><br />
<h2><a name="998347">Creating a Doc</a></h2>
<a name="998501"><!-- --></a> To create a Doc you must provide an
implementation of the Doc interface. The Java Print Service API
provides a convenient implementation of Doc called SimpleDoc. An
application is not required to use the SimpleDoc implementation,
but to ensure compliance with Doc, any Doc implementation must
observe the same required semantics that SimpleDoc implements,
which are:
<ul>
<li><a name="998573"><!-- --></a> Every Doc implemenation must
implement all five methods of the Doc interface.</li>
<li><a name="999027"><!-- --></a> The Doc implementation must allow
multiple threads to access the Doc object.</li>
<li><a name="999028"><!-- --></a> Every time a Doc method is
called, it returns the same object. This means you do not return a
new stream. Since there is only one input stream there can only be
one consumer of the Doc.</li>
<li><a name="999031"><!-- --></a> The Doc returns a stream for the
service if requested</li>
<li><a name="999032"><!-- --></a> The Doc checks if the data type
matches the doc flavor</li>
<li><a name="999049"><!-- --></a> The attributes returned from
getAttributes always override those passed in the print
method.</li>
</ul>
<a name="999060"><!-- --></a> Before creating a Doc, you need to
load your document from the file. The representation class of the
DocFlavor determines how you load the document from the file. In
this case, the representation class is an InputStream:
<p><a name="999062"><!-- --></a></p>
<pre class="codeblock">
   FileInputStream fis = new FileInputStream(&#34;java2dlogo.gif&#34;);
</pre>
<a name="999061"><!-- --></a> Once you have the stream, pass it to
SimpleDoc with the DocFlavor and a DocAttributeSet, ifi you have
one. If you don&#39;t have a DocAttributeSet, pass in null instead:
<p><a name="999074"><!-- --></a></p>
<pre class="codeblock">
   Doc doc = new SimpleDoc(fis, flavor, null);
</pre>
<a name="999073"><!-- --></a> See <a href=
"appendix_printGIF.fm.html#7083"><em>Example:
PrintGIF.java</em></a> for an example of a custom Doc
implementation.
<p><a name="1000443"><!-- --></a> The next section demonstrates how
to register for events on your print job or service.</p>
<br />
<hr />
<a href="JPSTOC.fm.html">CONTENTS</a> | <a href=
"printing.fm3.html">PREV</a> | <a href="printing.fm5.html">NEXT</a>

<div id="javasefooter">
<div class="hr">
<hr /></div>
<div id="javasecopyright">
<a href="../../../../legal/cpyr.html">Copyright &#169;</a> 1993, 2018, Oracle
and/or its affiliates. All rights reserved.
</div>

<div id="javasecontactus">
<a href="http://docs.oracle.com/javase/feedback.html">Contact Us</a>
</div>
</div>
</div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript" type="text/javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>
 
<!-- End SiteCatalyst code -->

</body>
</html>
