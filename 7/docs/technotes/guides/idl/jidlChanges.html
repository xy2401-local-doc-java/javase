<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xml:lang=
"en-US">
<head>

<style type="text/css">
/*<![CDATA[*/
        
p {margin-left: 18pt;}
ul li, ul ul li {font-weight: normal;}
pre             {margin-left: 6pt;}
a               {font-weight: bold;}

body {margin-left; 3pt;}

/*]]>*/
</style>
<title>Changes in CORBA Features Between J2SE 1.4.x and 5.0</title>

<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs/js/popUp.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs/js/sniff.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs/js/menucontent.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs/js/menucode.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/pubs/js/developer.js"></script>
<script language="javascript1.2" type="text/javascript" src="../../../../../webdesign/other/js/search.js"></script>
<link rel="stylesheet" href="../../../../../webdesign/pubs/css/default_developer.css" />
<meta name="collection" content="reference"/> 
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<noscript>JavaScript is not supported by your browser. JavaScript
support is required for full functionality of this page.</noscript>
<div class="a0 a0v1" id="a0v1"><!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1 a1r2">
<div class="a1v0"><a href="#skip2content" class="skiplink">Skip to
Content</a></div>
</div>
<!-- END A1 COMPONENT V.0 -->
<!-- BEGIN A2 COMPONENT V.1 -->
<div class="a2w0">
<div class="a2" id="a2v1">
<div class="a2w1">
<div class="a2w2">
<div class="a2w3">
<div class="a2w4">
<div class="a2topiclinks"><a href="http://www.oracle.com" title=
"Oracle Home Page" id="sunlogo" name="sunlogo"><img src=
"../../../../../webdesign/pubs/im/a.gif" alt="Home Page" width="98" height="58"
border="0" /></a>
<ul id="mtopics">
<li id="mtopic1"><a id="glink1" class="tpclink a2menu" title=
"See Oracle Technology Network" href="http://oracle.com/technology"
name="glink1">Oracle Technology Network</a></li>
<li id="mtopic2"><a id="glink2" class="tpclink a2menu" title=
"Software Downloads" href=
"http://www.oracle.com/technology/software/index.html" name=
"glink2">Software Downloads</a></li>
<li id="mtopic3"><a id="glink3" class="tpclink a2menu" title=
"See Java SE Documentation" href=
"http://download.oracle.com/javase/index.html" name=
"glink3">Documentation</a></li>
</ul>
<div class="a2search"><a href="../../../../../search.html" target=
"_blank">Search</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- END A2 COMPONENT V.1 -->
<!-- BEGIN SEPARATOR -->
<div class="hr">
<hr /></div>
<!-- END SEPARATOR -->
<!-- ============ -->
<!-- MAIN CONTENT -->
<!-- ============ -->
<a name="skip2content" id="skip2content"></a>


<div class="smallpagetitle"><h1>Changes in CORBA Features Between J2SE 1.4.x and 5.0</h1></div>
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++  -->
<p>This release of the Java&trade; 2 Platform Standard Edition
(J2SE), contains the following enhancements to CORBA, Java IDL, and
Java RMI-IIOP technology:</p>
<ul>
<li>Enhancement <a href=
"http://bugs.sun.com/view_bug.do?bug_id=4674929">
4674929</a>. Additional serviceability features for the Java SE ORB
provide a logging framework based on J2SE 1.4 logging APIs. When an
error is encountered and an OMG minor code is generated, this minor
code will now be translated to a Java error code for error logging.
The ORB will also include the standard minor codes as specified by
the OMG specifications.</li>
<li>Enhancement <a href=
"http://bugs.sun.com/view_bug.do?bug_id=4607440">
4607440</a>. Better performance of the default ORB in Java SE in
high volume deployments, including better scalability and
performance.</li>
<li>Enhancement <a href=
"http://bugs.sun.com/view_bug.do?bug_id=4629589">
4629589</a>. Added Object Reference Template (ORT) to ORB. An
Object Reference Template is an extension to portable interceptors
that supports portable server activation frameworks, load
balancing, fault tolerance, dynamic bridging, and other advanced
features.</li>
<li>Enhancement <a href=
"http://bugs.sun.com/view_bug.do?bug_id=4674944">
4674944</a>. Added on-the-wire interoperability. This includes
identifying and incorporating any resolutions and/or updates from
the OMG of any interoperability issues since CORBA 2.3.1 that
affect on-the-wire interoperability for the J2EE Application
Servers, and incorporating those resolutions into the Java SE
ORB.</li>
<li>When the J2SE 5.0 ORB marshals an
<code>org.omg.CORBA.SystemException</code> response, it adds an
<code>ExceptionDetailMessage</code> (i.e., a <code>ServiceContext
with ServiceId 14</code>) as defined in:
<pre class="codeblock">
/**
 * CORBA formal/02-06-01: 13.7.1:
 * ExceptionDetailMessage identifies a CDR encapsulation of a wstring,
 * encoded using GIOP 1.2 with a TCS-W of UTF-16.  This service context
 * may be sent on Reply messages with a reply_status of SYSTEM_EXCEPTION
 * or USER_EXCEPTION. The usage of this service context is defined
 * by language mappings. 
 *
 * IDL/Java: ptc/02-01-22: 1.15.2: 
 * When a System Exception is marshaled, its GIOP Reply message shall
 * include an associated ExceptionDetailMessage service context. The
 * callee's stack trace is often very valuable debugging information but
 * may contain sensitive or unwanted information. The wstring within the
 * service context will therefore contain additional information relating
 * to the exception, for example the result of calling either
 * printStackTrace(PrintWriter) or getMessage() on the exception. When
 * unmarshaling a System Exception on the client side, the wstring from
 * any ExceptionDetailMessage service context shall become the Java error
 * message in the unmarshaled exception object.
 */
</pre>
<p style="margin-left: -12pt;">When the J2SE 5.0 ORB unmarshals an
<code>org.omg.CORBA.SystemException</code> response it constructs
the <code>SystemException</code> with the contents of the
<code>ExceptionDetailMessage</code> as the <code>message</code>
argument to the <code>SystemException</code> constructor.</p>
<p style="margin-left: -12pt;"><strong>NOTE:</strong> The content
of the message may change. In J2SE 5.0, the message contains the
server side stack trace. The following code example (note: all
details may change) of a stack trace on the client side for an
exception generated on the server-side (note the server-side stack
trace in the exception's message):</p>
<pre class="codeblock">
org.omg.CORBA.FREE_MEM: ----------BEGIN server-side stack trace----------
org.omg.CORBA.FREE_MEM: idlIConnect  vmcid: 0x0  minor code: 0  completed: No
        at corba.exceptiondetailsc.idlIServantConnect.raise_system_exception(idlIServantConnect.java:23)
        at corba.exceptiondetailsc._idlIImplBase._invoke(_idlIImplBase.java:42)
        at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:647)
        at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:190)
        at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1653)
        at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:1513)
        at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleInput(CorbaMessageMediatorImpl.java:895)
        at com.sun.corba.ee.impl.protocol.giopmsgheaders.RequestMessage_1_2.callback(RequestMessage_1_2.java:172)
        at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:668)
        at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.dispatch(SocketOrChannelConnectionImpl.java:375)
        at com.sun.corba.ee.impl.transport.SocketOrChannelConnectionImpl.read(SocketOrChannelConnectionImpl.java:284)
        at com.sun.corba.ee.impl.transport.ReaderThreadImpl.doWork(ReaderThreadImpl.java:73)
        at com.sun.corba.ee.impl.orbutil.threadpool.ThreadPoolImpl$WorkerThread.run(ThreadPoolImpl.java:382)
----------END server-side stack trace----------  vmcid: 0x0  minor code: 0  completed: No
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:274)
        at com.sun.corba.ee.impl.protocol.giopmsgheaders.MessageBase.getSystemException(MessageBase.java:791)
        at com.sun.corba.ee.impl.protocol.giopmsgheaders.ReplyMessage_1_2.getSystemException(ReplyMessage_1_2.java:97)
        at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.getSystemExceptionReply(CorbaMessageMediatorImpl.java:546)
        at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.processResponse(CorbaClientRequestDispatcherImpl.java:407)
        at com.sun.corba.ee.impl.protocol.CorbaClientRequestDispatcherImpl.marshalingComplete(CorbaClientRequestDispatcherImpl.java:303)
        at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:132)
        at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:457)
        at corba.exceptiondetailsc._idlIStub.raise_system_exception(_idlIStub.java:20)
        at corba.exceptiondetailsc.Client.main(Client.java:87)

------------------------------------------------------------------------------

</pre></li>
</ul>
<p>See <a href="compliance.html">Official Specifications for CORBA
support in J2SE 5.0</a> for information on how <a href=
"index.html">Java IDL</a> and <a href="../rmi-iiop/index.html">Java
RMI-IIOP</a> comply with the CORBA Specifications.</p>
<p><!-- Body text ends here --></p>

<div id="javasefooter">
<div class="hr">
<hr /></div>
<div id="javasecopyright">
<a href="../../../legal/cpyr.html">Copyright &#169;</a> 1993, 2018, Oracle
and/or its affiliates. All rights reserved.
</div>

<div id="javasecontactus">
<a href="http://docs.oracle.com/javase/feedback.html">Contact Us</a>
</div>
</div>
</div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript" type="text/javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>
 
<!-- End SiteCatalyst code -->

</body>
</html>
