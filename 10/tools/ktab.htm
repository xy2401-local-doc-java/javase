<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>ktab</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="You use the ktab tool to manage the principal names and service keys stored in a local key table." />
<meta name="dcterms.created" content="2018-03-13T12:23:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Java Platform, Standard Edition Tools Reference" />
<meta name="dcterms.identifier" content="E91146-01" />
<meta name="dcterms.isVersionOf" content="JSWOR" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/javase/10/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="klist.htm" title="Previous" type="text/html" />
<link rel="Next" href="remote-method-invocation-rmi-commands.htm" title="Next" type="text/html" />
<link rel="alternate" href="JSWOR.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316"></a> <span id="PAGE" style="display:none;">23/63</span> <!-- End Header -->
<a id="JSWOR701"></a>
<h1 id="JSWOR-GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316" class="sect1">ktab</h1>
<div>
<p><span>You use the <code class="codeph">ktab</code> tool to manage the principal names and service keys stored in a local key table.</span></p>
<div class="section">
<p class="subhead1">Synopsis</p>
<pre dir="ltr">
ktab <span class="variable">commands</span> <span class="variable">options</span>
</pre>
<dl>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-01968451-D1C3-42CF-8FF1-2627D4256346"><!-- --></a><code class="codeph"><span class="variable">commands</span> <span class="variable">options</span></code></dt>
<dd>
<p>Lists the keytab name and entries, adds new key entries to the keytab, deletes existing key entries, and displays instructions. See <a href="ktab.htm#GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__COMMANDSFORTHEKTABTOOL-AED78769">Commands and Options</a>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>The <code class="codeph">ktab</code> enables the user to manage the principal names and service keys stored in a local key table. Principal and key pairs listed in the keytab enable services running on a host to authenticate themselves to the Key Distribution Center (KDC).</p>
<p>Before configuring a server to use Kerberos, you must set up a keytab on the host running the server. Note that any updates made to the keytab using the <code class="codeph">ktab</code> tool don&rsquo;t affect the Kerberos database.</p>
<p>A <span class="italic">keytab</span> is a host's copy of its own keylist, which is analogous to a user's password. An application server that needs to authenticate itself to the Key Distribution Center (KDC) must have a keytab which contains its own principal and key. If you change the keys in the keytab, you must also make the corresponding changes to the Kerberos database. The <code class="codeph">ktab</code> tool enables you to list, add, update or delete principal names and key pairs in the key table. None of these operations affect the Kerberos database.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Security Alert</p>
<p>Don&rsquo;t specify your password on the command line. Doing so can be a security risk. For example, an attacker could discover your password while running the UNIX <code class="codeph">ps</code> command.</p>
<p>Just as it is important for users to protect their passwords, it is equally important for hosts to protect their keytabs. You should always store keytab files on the local disk and make them readable only by root. You should never send a keytab file over a network in the clear.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__COMMANDSFORTHEKTABTOOL-AED78769">
<p class="subhead1">Commands and Options</p>
<dl>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-85BF77C0-79FB-45D0-8895-4A7A571FA3E5"><!-- --></a><code class="codeph">-l [-e] [-t]</code></dt>
<dd>
<p>Lists the keytab name and entries. When <code class="codeph">-e</code> is specified, the encryption type for each entry is displayed. When <code class="codeph">-t</code> is specified, the timestamp for each entry is displayed.</p>
</dd>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-1C818402-FDB4-4700-A919-0796CD04A62B"><!-- --></a><code class="codeph">-a <span class="variable">principal_name</span> [<span class="variable">password</span>] [-n <span class="variable">kvno</span>] [-append]</code></dt>
<dd>
<p>Adds new key entries to the keytab for the given principal name with an optional <code class="codeph"><span class="variable">password</span></code>. If a <code class="codeph"><span class="variable">kvno</span></code> is specified, new keys' Key Version Numbers equal to the value, otherwise, automatically incrementing the Key Version Numbers. If <code class="codeph">-append</code> is specified, new keys are appended to the keytab, otherwise, old keys for the same principal are removed.</p>
<p>No changes are made to the Kerberos database. <span class="bold">Don&rsquo;t specify the password on the command line or in a script.</span> This tool will prompt for a password if it isn&rsquo;t specified.</p>
</dd>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-323C9B94-979A-4781-A04B-1B448C9BE2C8"><!-- --></a><code class="codeph">-d <span class="variable">principal_name</span> [&mdash;f] [-e <span class="variable">etype</span>] [<span class="variable">kvno</span> | all| old]</code></dt>
<dd>
<p>Deletes key entries from the keytab for the specified principal. No changes are made to the Kerberos database.</p>
<ul style="list-style-type: disc;">
<li>
<p>If <code class="codeph"><span class="variable">kvno</span></code> is specified, the tool deletes keys whose Key Version Numbers match kvno. If <code class="codeph">all</code> is specified, delete all keys.</p>
</li>
<li>
<p>If <code class="codeph">old</code> is specified, the tool deletes all keys except those with the highest <code class="codeph"><span class="variable">kvno</span></code>. The default action is <code class="codeph">all</code>.</p>
</li>
<li>
<p>If <code class="codeph"><span class="variable">etype</span></code> is specified, the tool only deletes keys of this encryption type. <code class="codeph"><span class="variable">etype</span></code> should be specified as the numberic value <code class="codeph"><span class="variable">etype</span></code> defined in RFC 3961, section 8. A prompt to confirm the deletion is displayed unless <code class="codeph">-f</code> is specified.</p>
</li>
</ul>
<p>When <code class="codeph"><span class="variable">etype</span></code> is provided, only the entry matching this encryption type is deleted. Otherwise, all entries are deleted.</p>
</dd>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-F6FE36B6-6EEA-428F-A913-E5E41FAD4841"><!-- --></a><code class="codeph">-help</code></dt>
<dd>
<p>Displays instructions.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__OPTIONSFORTHEKTABTOOL-AED78BBE">
<p class="subhead1">Common Options</p>
<p>This option can be used with the <code class="codeph">-l</code>, <code class="codeph">-a</code> or <code class="codeph">-d</code> commands.</p>
<dl>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__KKEYTAB_NAMESPECIFYKEYTABNAMEANDPAT-A0D06BE5"><!-- --></a><code class="codeph">-k <span class="variable">keytab name</span></code></dt>
<dd>
<p>Specifies the keytab name and path with the <code class="codeph">FILE:</code> prefix.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-C1C0A1FA-B46B-4121-A38E-F1F180CA31F3"><!-- --></a>Lists all the entries in the default keytable</dt>
<dd>
<pre dir="ltr">
ktab -l
</pre></dd>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-B3D7BE12-A922-4A98-B0C3-C201D6ED072B"><!-- --></a>Adds a new principal to the key table (note that you will be prompted for your password)</dt>
<dd>
<pre dir="ltr">
ktab -a duke@example.com
</pre></dd>
<dt class="dlterm"><a id="GUID-9E4FA1E5-03F4-457C-BE16-4A202AAFD316__GUID-C0A48CCF-AC18-4F01-A337-CD214D5F3584"><!-- --></a>Deletes a principal from the key table</dt>
<dd>
<pre dir="ltr">
ktab -d duke@example.com
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment186">
<tr>
<td class="cellalignment198">
<table class="cellalignment191">
<tr>
<td class="cellalignment190"><a href="klist.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment190"><a href="remote-method-invocation-rmi-commands.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment200">
<table class="cellalignment189">
<tr>
<td class="cellalignment190"><a href="http://docs.oracle.com/javase/10/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment190"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment190"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
