<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>orbd</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="You use the orbd command for the client to transparently locate and call persistent objects on servers in the CORBA environment." />
<meta name="dcterms.created" content="2018-03-13T12:23:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Java Platform, Standard Edition Tools Reference" />
<meta name="dcterms.identifier" content="E91146-01" />
<meta name="dcterms.isVersionOf" content="JSWOR" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/javase/10/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="idlj.htm" title="Previous" type="text/html" />
<link rel="Next" href="servertool.htm" title="Next" type="text/html" />
<link rel="alternate" href="JSWOR.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB"></a> <span id="PAGE" style="display:none;">32/63</span> <!-- End Header -->
<a id="JSWOR714"></a>
<h1 id="JSWOR-GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB" class="sect1">orbd</h1>
<div>
<p><span>You use the <code class="codeph">orbd</code> command for the client to transparently locate and call persistent objects on servers in the CORBA environment.</span></p>
<div class="section">
<p class="subhead1">Synopsis</p>
<pre dir="ltr">
orbd [ <span class="variable">options</span> ]
</pre>
<dl>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-433E1EEC-2257-4710-A9ED-07BD62D4116C"><!-- --></a><code class="codeph"><span class="variable">options</span></code></dt>
<dd>
<p>Command-line options. See <a href="orbd.htm#GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__CIHCBHHJ">orbd Options</a>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>The <code class="codeph">orbd</code> command enables clients to transparently locate and call persistent objects on servers in the CORBA environment. The Server Manager included with the <code class="codeph">orbd</code> tool is used to enable clients to transparently locate and call persistent objects on servers in the CORBA environment. The persistent servers, while publishing the persistent object references in the naming service, include the port number of the <code class="codeph">orbd</code> in the object reference instead of the port number of the server. The inclusion of an <code class="codeph">orbd</code> port number in the object reference for persistent object references has the following advantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>The object reference in the naming service remains independent of the server life cycle. For example, the object reference could be published by the server in the Naming Service when it is first installed, and then, independent of how many times the server is started or shut down, the <code class="codeph">orbd</code> returns the correct object reference to the calling client.</p>
</li>
<li>
<p>The client needs to look up the object reference in the naming service only once, and can keep reusing this reference independent of the changes introduced due to server life cycle.</p>
</li>
</ul>
<p>To access the <code class="codeph">orbd</code> Server Manager, the server must be started using <code class="codeph">servertool</code>, which is a command-line interface for application programmers to register, unregister, start up, and shut down a persistent server. See <a href="orbd.htm#GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__CIHHEEHF">Server Manager</a>.</p>
<p>When <code class="codeph">orbd</code> starts, it also starts a naming service. See <span class="bold">Start and Stop the Naming Service</span> below.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__CIHCBHHJ">
<p class="subhead1">orbd Options</p>
<dl>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-AD883768-9D7A-4B87-B398-ED2602E5656D"><!-- --></a><code class="codeph">-ORBInitialPort <span class="variable">nameserverport</span></code></dt>
<dd>
<p>Required. Specifies the port on which the name server should be started. After it&rsquo;s started, <code class="codeph">orbd</code> listens for incoming requests on this port. On Oracle Solaris software, you must become the root user to start a process on a port below 1024. For this reason, Oracle recommends that you use a port number above or equal to 1024.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Nonrequired Options</p>
<dl>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-E95619C1-0DFC-46DD-9A81-924D528327B9"><!-- --></a><code class="codeph">-port <span class="variable">port</span></code></dt>
<dd>
<p>Specifies the activation port where <code class="codeph">orbd</code> should be started, and where <code class="codeph">orbd</code> will be accepting requests for persistent objects. The default value for this port is 1049. This port number is added to the port field of the persistent Interoperable Object References (IOR).</p>
</dd>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-32E1E1DD-96E4-44B3-9B90-B7BA8979F3BE"><!-- --></a><code class="codeph">-defaultdb <span class="variable">directory</span></code></dt>
<dd>
<p>Specifies the base where the <code class="codeph">orbd</code> persistent storage directory, <code class="codeph">orb.db</code>, is created. If this option isn&rsquo;t specified, then the default value is <code class="codeph">./orb.db</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-18A46972-7004-4FF0-9EBA-8DC675CF286E"><!-- --></a><code class="codeph">-serverPollingTime <span class="variable">milliseconds</span></code></dt>
<dd>
<p>Specifies how often ORBD checks for the health of persistent servers registered through the <code class="codeph">servertool</code>. The default value is 1000 ms. The value specified for <code class="codeph">milliseconds</code> must be a valid positive integer.</p>
</dd>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-FB163DDA-26F9-49FF-9DE2-58C476F9FD41"><!-- --></a><code class="codeph">-serverStartupDelay <span class="variable">milliseconds</span></code></dt>
<dd>
<p>Specifies how long <code class="codeph">orbd</code> waits before sending a location-forward exception after a persistent server that&rsquo;s registered through the <code class="codeph">servertool</code> is restarted. The default value is 1000 ms. The value specified for <code class="codeph">milliseconds</code> must be a valid positive integer.</p>
</dd>
<dt class="dlterm"><a id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__GUID-B47E46CA-8FB7-4CBB-98D7-83643A5A5116"><!-- --></a><code class="codeph">-J <span class="variable">option</span></code></dt>
<dd>
<p>Passes <code class="codeph">option</code> to the Java Virtual Machine, where <code class="codeph">option</code> is one of the options described on the reference page for the Java application launcher. For example, <code class="codeph">-J-Xms48m</code> sets the startup memory to 48 MB. See <a href="java.htm#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE" title="You can use the java command to launch a Java application.">Java</a>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__STARTANDSTOPTHENAMINGSERVICE-4B5DACAC">
<p class="subhead1">Start and Stop the Naming Service</p>
<p>A naming service is a CORBA service that allows CORBA objects to be named by means of binding a name to an object reference. The name binding can be stored in the naming service, and a client can supply the name to obtain the desired object reference.</p>
<p>Before running a client or a server, you&rsquo;ll start <code class="codeph">orbd</code>. The <code class="codeph">orbd</code> command includes a persistent naming service and a transient naming service, both of which are an implementation of the COS Naming Service.</p>
<p>The Persistent Naming Service provides persistence for naming contexts. This means that this information is persistent across service shutdowns and startups, and is recoverable in the event of a service failure. If ORBD is restarted, then the Persistent Naming Service restores the naming context graph, so that the binding of all clients' and servers' names remains intact (persistent).</p>
<p>For backward compatibility, <code class="codeph">tnameserv</code> a Transient Naming Service that shipped with earlier releases of the JDK, is also included in this release of Java SE. A transient naming service retains naming contexts as long as it is running. If there is a service interruption, then the naming context graph is lost.</p>
<p>The <code class="codeph">-ORBInitialPort</code> argument is a required command-line argument for <code class="codeph">orbd</code>, and is used to set the port number on which the naming service runs. The following instructions assume that you can use port 1050 for the Java IDL Object Request Broker Daemon. When using Oracle Solaris software, you must become a root user to start a process on a port lower than 1024. For this reason, it&rsquo;s recommended that you use a port number above or equal to 1024. You can substitute a different port when necessary.</p>
<p>To start <code class="codeph">orbd</code> from an Oracle Solaris, Linux, or OS X command shell, enter:</p>
<pre dir="ltr">
orbd -ORBInitialPort 1050&amp;
</pre>
<p>From an MS-DOS system prompt (Windows), enter:</p>
<pre dir="ltr">
start orbd -ORBInitialPort 1050
</pre>
<p>Now that <code class="codeph">orbd</code> is running, you can run your server and client applications. When running the client and server applications, they must be made aware of the port number (and machine name, when applicable) where the Naming Service is running. One way to do this is to add the following code to your application:</p>
<pre dir="ltr">
Properties props = new Properties();
props.put("org.omg.CORBA.ORBInitialPort", "1050");
props.put("org.omg.CORBA.ORBInitialHost", "MyHost");
ORB orb = ORB.init(args, props);
</pre>
<p>In this example, the naming service is running on port 1050 on host <code class="codeph">MyHost</code>. Another way is to specify the port number or machine name, or both, when running the server or client application from the command line. For example, you would start your <code class="codeph">HelloApplication</code> with the following command-line:</p>
<pre dir="ltr">
java HelloApplication -ORBInitialPort 1050 -ORBInitialHost MyHost
</pre>
<p>To stop the naming service, use the relevant operating system command, such as <code class="codeph">pkill</code> <code class="codeph">orbd</code> on Oracle Solaris, or <kbd class="userinput">Ctrl+C</kbd> in the DOS window in which <code class="codeph">orbd</code> is running. Note that names registered with the naming service can disappear when the service is terminated because of a transient naming service. The Java IDL naming service will run until it&rsquo;s explicitly stopped.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-A54A1CAF-6F0C-4886-A149-26F37E27ADBB__CIHHEEHF">
<p class="subhead1">Server Manager</p>
<p>To access the <code class="codeph">orbd</code> Server Manager and run a persistent server, the server must be started with <code class="codeph">servertool</code>, which is a command-line interface for application programmers to register, unregister, start up, and shut down a persistent server. When a server is started using <code class="codeph">servertool</code>, it must be started on the same host and port on which <code class="codeph">orbd</code> is executing. If the server is run on a different port, then the information stored in the database for local contexts will be invalid and the service will not work properly.</p>
<p>In this example, you run the <code class="codeph">idlj</code> compiler and <code class="codeph">javac</code> compiler as shown in the tutorial. To run the <code class="codeph">orbd</code> Server Manager, follow these steps for running the application:</p>
<ol>
<li>
<p>Start <code class="codeph">orbd</code>.</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Solaris, Linux, or OS X command shell, enter: <code class="codeph">orbd -ORBInitialPort 1050</code>.</p>
</li>
<li>
<p>MS-DOS system prompt (Windows), enter: <code class="codeph">s</code><code class="codeph">tart orbd -ORBInitialPort 105</code><code class="codeph">0</code>.</p>
</li>
</ul>
</li>
<li>
<p>Port 1050 is the port on which you want the name server to run. The <code class="codeph">-ORBInitialPort</code> option is a required command-line argument. When using Oracle Solaris software, you must become a root user to start a process on a port below 1024. For this reason, it is recommended that you use a port number above or equal to 1024.</p>
</li>
<li>
<p>Start <code class="codeph">servertool</code>: <code class="codeph">servertool -ORBInitialPort 1050</code>.</p>
</li>
<li>
<p>Make sure the name server (<code class="codeph">orbd</code>) port is the same as in the previous step, for example, <code class="codeph">-ORBInitialPort 1050.</code> The <code class="codeph">servertool</code> must be started on the same port as the name server.</p>
</li>
<li>
<p>In the <code class="codeph">servertool</code> command-line interface, start <code class="codeph">Hello</code> server from the <code class="codeph">servertool</code> prompt:</p>
<pre dir="ltr">
servertool  &gt; register -server HelloServer -classpath . -applicationName
                HelloServerApName
</pre></li>
<li>
<p>The <code class="codeph">servertool</code> registers the server, assigns it the name <code class="codeph">HelloServerApName</code>, and displays its server ID with a listing of all registered servers. Run the client application from another terminal window or prompt:</p>
<pre dir="ltr">
java HelloClient -ORBInitialPort 1050 -ORBInitialHost localhost
</pre></li>
<li>
<p>For this example, you can omit <code class="codeph">-ORBInitialHost localhost</code> because the name server is running on the same host as the <code class="codeph">Hello</code> client. If the name server is running on a different host, then use the -<code class="codeph">ORBInitialHost nameserverhost</code> option to specify the host on which the IDL name server is running. Specify the name server (<code class="codeph">orbd</code>) port as done in the previous step, for example, <code class="codeph">-ORBInitialPort 1050</code>. When you finish experimenting with the <code class="codeph">orbd</code> Server Manager, shut down or terminate the name server (<code class="codeph">orbd</code>) and <code class="codeph">servertool</code>. To shut down <code class="codeph">orbd</code> from an MS-DOS prompt, select the window that&rsquo;s running the server and enter <kbd class="userinput">Ctrl+C</kbd> to shut it down.</p>
</li>
<li>
<p>To shut down <code class="codeph">orbd</code> from an Oracle Solaris shell, find the process, and terminate with the <code class="codeph">kill</code> command. The server continues to wait for invocations until it&rsquo;s explicitly stopped. To shut down the <code class="codeph">servertool</code>, enter <kbd class="userinput">quit</kbd> and press the <kbd class="userinput">Enter</kbd> key.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment186">
<tr>
<td class="cellalignment198">
<table class="cellalignment191">
<tr>
<td class="cellalignment190"><a href="idlj.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment190"><a href="servertool.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment200">
<table class="cellalignment189">
<tr>
<td class="cellalignment190"><a href="http://docs.oracle.com/javase/10/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment190"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment190"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
