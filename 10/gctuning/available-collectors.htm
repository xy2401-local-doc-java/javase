<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Available Collectors</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="The discussion to this point has been about the serial collector. The Java HotSpot VM includes three different types of collectors, each with different performance characteristics." />
<meta name="dcterms.created" content="2018-03-13T02:53:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide" />
<meta name="dcterms.identifier" content="E92394-01" />
<meta name="dcterms.isVersionOf" content="JSGCT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/javase/10/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="factors-affecting-garbage-collection-performance.htm" title="Previous" type="text/html" />
<link rel="Next" href="parallel-collector1.htm" title="Next" type="text/html" />
<link rel="alternate" href="JSGCT.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C"></a> <span id="PAGE" style="display:none;">8/14</span> <!-- End Header -->
<h1 id="JSGCT-GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C" class="sect1"><span class="enumeration_chapter">5</span> Available Collectors</h1>
<div>
<p>The discussion to this point has been about the serial collector. The Java HotSpot VM includes three different types of collectors, each with different performance characteristics.</p>
<div class="section">
<p class="subhead1">Topics</p>
<ul style="list-style-type: disc;">
<li><a href="available-collectors.htm#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" title="The serial collector uses a single thread to perform all garbage collection work, which makes it relatively efficient because there is no communication overhead between threads.">Serial Collector</a></li>
<li><a href="available-collectors.htm#GUID-13943556-F521-4287-AAAA-AE5DE68777CD" title="The parallel collector is also known as throughput collector, it's a generational collector similar to the serial collector. The primary difference between the serial and parallel collectors is that the parallel collector has multiple threads that are used to speed up garbage collection.">Parallel Collector</a></li>
<li><a href="available-collectors.htm#GUID-C7B19628-27BA-4945-9004-EC0F08C76003">The Mostly Concurrent Collectors</a></li>
<li><a href="available-collectors.htm#GUID-414C9D95-297E-4EE3-B0D9-36F158A83393" title="Unless your application has rather strict pause-time requirements, first run your application and allow the VM to select a collector.">Selecting a Collector</a></li>
</ul>
</div>
<!-- class="section" --></div>
<div class="props_rev_3"><a id="GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498"></a>
<h2 id="JSGCT-GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" class="sect2">Serial Collector</h2>
<div>
<p>The serial collector uses a single thread to perform all garbage collection work, which makes it relatively efficient because there is no communication overhead between threads.</p>
<p>It's best-suited to single processor machines because it can't take advantage of multiprocessor hardware, although it can be useful on multiprocessors for applications with small data sets (up to approximately 100 MB). The serial collector is selected by default on certain hardware and operating system configurations, or can be explicitly enabled with the option <code class="codeph">-XX:+UseSerialGC</code>.</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-13943556-F521-4287-AAAA-AE5DE68777CD"></a>
<h2 id="JSGCT-GUID-13943556-F521-4287-AAAA-AE5DE68777CD" class="sect2">Parallel Collector</h2>
<div>
<p>The parallel collector is also known as <span class="italic">throughput collector</span>, it's a generational collector similar to the serial collector. The primary difference between the serial and parallel collectors is that the parallel collector has multiple threads that are used to speed up garbage collection.</p>
<p>The parallel collector is intended for applications with medium-sized to large-sized data sets that are run on multiprocessor or multithreaded hardware. You can enable it by using the <code class="codeph">-XX:+UseParallelGC</code> option.</p>
<p>Parallel compaction is a feature that enables the parallel collector to perform major collections in parallel. Without parallel compaction, major collections are performed using a single thread, which can significantly limit scalability. Parallel compaction is enabled by default if the option <code class="codeph">-XX:+UseParallelGC</code> has been specified. You can disable it by using the <code class="codeph">-XX:-UseParallelOldGC</code> option.</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-C7B19628-27BA-4945-9004-EC0F08C76003"></a>
<h2 id="JSGCT-GUID-C7B19628-27BA-4945-9004-EC0F08C76003" class="sect2">The Mostly Concurrent Collectors</h2>
<div>
<p>Concurrent Mark Sweep (CMS) collector and Garbage-First (G1) garbage collector are the two mostly concurrent collectors. Mostly concurrent collectors perform some expensive, work concurrently to the application .</p>
<ul style="list-style-type: disc;">
<li>
<p>G1 garbage collector: This server-style collector is for multiprocessor machines with a large amount of memory. It meets garbage collection pause-time goals with high probability, while achieving high throughput.</p>
<p>G1 is selected by default on certain hardware and operating system configurations, or can be explicitly enabled using<code class="codeph">-XX:+UseG1GC</code> .</p>
</li>
<li>
<p>CMS collector : This collector is for applications that prefer shorter garbage collection pauses and can afford to share processor resources with the garbage collection.</p>
<p>Use the option <code class="codeph">-XX:+UseConcMarkSweepGC</code> to enable the CMS collector</p>
</li>
</ul>
<p>The CMS collector is deprecated as of JDK 9.</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-414C9D95-297E-4EE3-B0D9-36F158A83393"></a>
<h2 id="JSGCT-GUID-414C9D95-297E-4EE3-B0D9-36F158A83393" class="sect2">Selecting a Collector</h2>
<div>
<p>Unless your application has rather strict pause-time requirements, first run your application and allow the VM to select a collector.</p>
<p>If necessary, adjust the heap size to improve performance. If the performance still doesn't meet your goals, then use the following guidelines as a starting point for selecting a collector:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the application has a small data set (up to approximately 100 MB), then select the serial collector with the option <code class="codeph">-XX:+UseSerialGC</code>.</p>
</li>
<li>
<p>If the application will be run on a single processor and there are no pause-time requirements, then select the serial collector with the option <code class="codeph">-XX:+UseSerialGC</code>.</p>
</li>
<li>
<p>If (a) peak application performance is the first priority and (b) there are no pause-time requirements or pauses of one second or longer are acceptable, then let the VM select the collector or select the parallel collector with <code class="codeph">-XX:+UseParallelGC</code>.</p>
</li>
<li>
<p>If response time is more important than overall throughput and garbage collection pauses must be kept shorter than approximately one second, then select a concurrent collector with <code class="codeph">-XX:+UseG1GC</code> or <code class="codeph">-XX:+UseConcMarkSweepGC</code>.</p>
</li>
</ul>
<p>These guidelines provide only a starting point for selecting a collector because performance is dependent on the size of the heap, the amount of live data maintained by the application, and the number and speed of available processors. Pause-time is particularly sensitive to these factors, so the threshold of one second mentioned previously is only approximate. The parallel collector will experience a pause time longer than one second on many heap size and hardware combinations. Conversely, the concurrent collectors may not be able to keep pauses shorter than one seconds in some cases.</p>
<p>If the recommended collector doesn't achieve the desired performance, then first attempt to adjust the heap and generation sizes to meet the desired goals. If performance is still inadequate, then try a different collector: Use the concurrent collector to reduce pause-time, and use the parallel collector to increase overall throughput on multiprocessor hardware.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment57">
<tr>
<td class="cellalignment69">
<table class="cellalignment62">
<tr>
<td class="cellalignment61"><a href="factors-affecting-garbage-collection-performance.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment61"><a href="parallel-collector1.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment71">
<table class="cellalignment60">
<tr>
<td class="cellalignment61"><a href="http://docs.oracle.com/javase/10/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment61"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment61"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
